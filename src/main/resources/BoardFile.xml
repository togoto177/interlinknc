<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="boardFiles">
	<resultMap type="BoardFile" id="boardFileResult">
		<result property="file_seq" column="file_seq" />
		<result property="board_seq" column="board_seq" />
		<result property="file_ori_name" column="file_ori_name" />
		<result property="file_sub_name" column="file_sub_name" />
		<result property="extention_name" column="extention_name" />
		<result property="file_size" column="file_size" />
		<result property="file_path" column="file_path" />
		<result property="file_use_yn" column="file_use_yn" />
		<result property="file_updateid" column="file_updateid" />
		<result property="file_update_date" column="file_update_date" />
		<result property="file_etc" column="file_etc" />
	</resultMap>
	<insert id="file_insert" parameterType="BoardFile">
		insert into file_tb
			
			values(

			#{file_seq},
			#{board_seq},
			#{file_ori_name},
			#{file_sub_name},
			#{extention_name},
			#{file_size},
			#{file_path},
			#{file_use_yn},
			#{file_updateid},
			now(),
			#{file_etc}
		
        );
	</insert>
	
	<select id="file_list" resultType="BoardFile">
	select * from file_tb where file_use_yn = 'y' and board_seq = #{board_seq};
	</select>
	<update id="fileDeleteByBoardFile" parameterType="BoardFile">
	    update 
    	file_tb
    	    	
    	set

    	file_updateid = #{file_updateid},
    	file_use_yn = 'N',
    	file_update_date = now()


    	where file_seq = #{file_seq};
        </update>

</mapper>